---
import {Icon} from 'astro-icon'
import Topics from "./Topics.astro";

const {repository} = Astro.props
---

<div class="wrapper">
    <div class="card-top">
        <div class="title-homepage">
            <h2><a class="card-link" href={repository.html_url} target="_blank">{repository.name}</a></h2>
            {repository.homepage && <a class="homepage-link" href={repository.homepage} target="_blank"><Icon name="globe"/></a>}
        </div>
        <div class="description">
            {repository.description && repository.description}
        </div>
    </div>
    <div class="card-bottom">
        {repository.topics && <Topics topics={repository.topics} />}
    </div>
</div>

<style>
    h2 {
        margin: 0;
        font-size: 2rem;
        font-weight: 500;
        letter-spacing: -1px;
    }

    a {
        all: unset;
    }

    .wrapper {
        width: 100%;
        height: 15rem;

        position: relative;

        padding: 25px;

        display: flex;
        flex-direction: column;
        justify-content: space-between;

        background:
                radial-gradient(ellipse at top, hsl(var(--accentColor), 5%) 0%, hsl(var(--accentColor), 0%) 100%),
                radial-gradient(ellipse at bottom, hsl(var(--accentColor), 5%) 0%, hsl(var(--accentColor), 0%) 100%);

        border: 1px solid hsl(var(--accentColor), 10%);
        border-radius: 1rem;
    }

    .wrapper:hover {
        border-color: hsl(var(--accentColor), 20%);
        transition: border .5s;
    }

    .card-link:after {
        content: '';
        position: absolute;
        z-index: 1;
        top: 0;
        bottom: 0;
        left: 0;
        right: 0;
    }

    .homepage-link {
        z-index: 2;
    }

    .homepage-link:hover {
        color: hsl(var(--accentColor));
    }

    .card-top {
        width: 100%;

        display: flex;
        flex-direction: column;
    }

    .title-homepage {
        display: flex;
        justify-content: space-between;
        align-items: center;

        text-overflow: ellipsis;
    }

    .description {
        padding: .5rem 0;
    }

    [astro-icon] {
        width: 1.5rem;
        height: 1.5rem;
    }
</style>